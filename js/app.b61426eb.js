(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/open-unmix-js/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0214":function(e){e.exports=JSON.parse('{"fourierParams":{"frameLength":4096,"hopLength":1024,"fftSize":4096},"modelInput":{"N_FREQUENCIES":2049,"N_FRAMES":128,"N_CHANNELS":2,"N_BATCHES":1}}')},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},4301:function(e,t,n){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Home")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app",dark:e.dark}},[n("vue-headful",{attrs:{title:"SigSep",description:"Open Resources for Music Source Separation"}}),n("v-container",{attrs:{bg:"","grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",[n("label",{attrs:{for:"clickable_file"}},[e.shouldRenderDropzone?n("div",{attrs:{id:"dropzone"},on:{drop:function(t){return t.preventDefault(),e.addFilesDrop(t)},dragover:function(e){e.preventDefault()}}},[n("h2",[e._v("Drag an audio file or click in this area")]),n("ul",e._l(e.files,(function(t){return n("li",{key:t.name},[e._v(" "+e._s(t.name)+" ("+e._s(t.size/1024)+" kb) ")])})),0)]):e._e()]),e.shouldRenderDropzone?n("input",{staticStyle:{visibility:"hidden"},attrs:{type:"file",id:"clickable_file"},on:{change:e.addFilesInputTag}}):e._e(),n("vue-dropdown",{attrs:{config:e.config},on:{setSelectedOption:function(t){return e.modelSelector(t)}}}),n("br"),e.shouldRenderSong?n("div",{attrs:{id:"outterAudio"}},[n("vuetify-audio",{attrs:{flat:"",file:e.ogAudio,color:"success"}})],1):e._e(),n("div",{staticClass:"text-center"},[n("v-btn",{staticClass:"ma-2",attrs:{color:"secondary",disabled:e.isDisabled,loading:e.isLoading},on:{click:e.processSong}},[e._v(" Process Track ")]),n("v-btn",{attrs:{color:"info",disabled:e.isDisabled},on:{click:e.reset}},[e._v("Reset Track")])],1),e.shouldRenderPlayer?n("div",[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"900",color:"dark-grey",dark:""}},[n("Player",{key:e.combKey,ref:"player",attrs:{urls:e.tracklist,conf:e.playerconf}})],1),n("div",{attrs:{id:"center"}},[n("div",{attrs:{id:"left"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.download(e.target)}}},[e._v(" Download "+e._s(e.target)+" ")])],1),n("div",{attrs:{id:"right"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.download("back")}}},[e._v(" Download background ")])],1)])],1):e._e()],1)],1)],1)],1)},i=[],l=(n("4160"),n("a15b"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2b3d"),n("b85c")),c=n("2909"),u=(n("96cf"),n("1da1")),d=n("ec02"),p=n.n(d),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"player"}},[n("div",[n("h2",[e._v(e._s(e.title))]),n("v-btn",{attrs:{dark:e.conf.dark,color:"green accent-2",top:"",right:"",small:"",disabled:e.isLoading,depressed:e.isPlaying},on:{click:e.playpause}},[n("v-icon",[e._v("mdi-play")])],1),n("v-btn",{attrs:{dark:e.conf.dark,color:"red accent-2",top:"",right:"",small:"",disabled:e.isLoading},on:{click:e.stop}},[n("v-icon",[e._v("mdi-stop")])],1)],1),n("div",{ref:"playlist"}),n("p"),n("v-progress-linear",{attrs:{dark:e.conf.dark,color:"green accent-2",indeterminate:"",rounded:"",height:"6",active:e.isLoading}}),e.NumberOfTracks>0?n("div",{staticStyle:{"margin-top":"-20px"}},[n("b",[e._v("Keyboard Shortcuts")]),e._v(": Play/Pause: "),n("kbd",[e._v("Space")]),e._v(" – Solo/Unsolo Sources: "),e._l(e.NumberOfTracks,(function(t){return n("kbd",{key:t},[e._v(e._s(t))])})),e._v(" – Mute/Unmute Sources: "),n("kbd",[e._v("Ctrl")]),e._v(" + "),e._l(e.NumberOfTracks,(function(t){return n("kbd",{key:t},[e._v(e._s(t))])}))],2):e._e()],1)},h=[],m=n("8a60"),g=n.n(m),v=n("132e"),y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1280;if(e)var a="black";else a="white";this.playlist=v["init"]({samplesPerPixel:n,waveHeight:60,container:t,timescale:!0,mono:!0,exclSolo:!1,isAutomaticScroll:!0,state:"cursor",colors:{waveOutlineColor:a},controls:{show:!0,width:120},zoomLevels:[n]})};y.prototype.loadTargets=function(e){this.playlist.getEventEmitter().emit("stop"),this.playlist.clear(),this.playlist.tracks=[];var t,n=[],a=Object(l["a"])(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push({src:r.src,name:r.name,muted:r.mute,customClass:r.customClass,soloed:r.solo})}}catch(o){a.e(o)}finally{a.f()}this.playlist.load(n)};var b=y,w=(n("4301"),{name:"player",components:{},props:{urls:Array,conf:Object},data:function(){return{isPlaying:!1,isLoading:!1,player:Object,loaderColor:"orange",loaderHeight:"26px",playbackPosition:0,lastplaybackPosition:0}},mounted:function(){g.a.bind("space",this.playpause),this.initPlayer()},beforeDestroy:function(){g.a.unbind("space");for(var e=0;e<this.player.playlist.tracks.length;++e)(function(e){g.a.unbind(String(e+1))})(e);this.stop(),delete this.player},methods:{initPlayer:function(){if(this.player=new b(this.conf.dark,this.$refs.playlist,this.conf.zoom),this.player.playlist.getEventEmitter().on("audiosourcesloaded",this.audioLoaded),this.player.playlist.getEventEmitter().on("timeupdate",this.updateTime),1!=this.isLoading){this.saveState(),this.stop(),this.isLoading=!0,this.player.loadTargets(this.urls);for(var e=0;e<this.urls.length;++e)(function(e,t){g.a.bind(String(e+1),(function(){t.player.playlist.getEventEmitter().emit("solo",t.player.playlist.tracks[e])})),g.a.bind(["ctrl+"+String(e+1),"meta+"+String(e+1)],(function(){t.player.playlist.getEventEmitter().emit("mute",t.player.playlist.tracks[e])}))})(e,this)}},saveState:function(){this.lastplaybackPosition=this.playbackPosition},playpause:function(e){return this.isPlaying?this.player.playlist.getEventEmitter().emit("pause"):(this.player.playlist.getEventEmitter().emit("play"),this.player.playlist.getEventEmitter().on("finished",this.stop)),this.isPlaying=!this.isPlaying,e.stopPropagation(),!1},stop:function(){this.player.playlist.getEventEmitter().emit("stop"),this.isPlaying=!1},toggleMode:function(){this.$emit("toggleMode","foo")},audioLoaded:function(){this.isLoading=!1},updateTime:function(e){this.playbackPosition=e}},computed:{title:function(){return"undefined"===typeof this.conf?"Empty Track":this.conf.title},NumberOfTracks:function(){return"undefined"===typeof this.player.playlist?0:this.player.playlist.tracks.length}},watch:{urls:{handler:"initPlayer"}}}),k=w,x=n("2877"),_=n("6544"),S=n.n(_),O=n("8336"),P=n("132d"),R=n("8e36"),E=Object(x["a"])(k,f,h,!1,null,null,null),L=E.exports;S()(E,{VBtn:O["a"],VIcon:P["a"],VProgressLinear:R["a"]});var j=n("c32e"),D=n("59bd"),C=44100,M=30,A="Currently the model prediction is very slow, please consider to process only signals of less than 30 seconds";function N(e,t){var n=new FileReader;n.onerror=function(){console.log("Error when reading the file")},n.onload=function(e){T(e.name,n.result).then((function(e){e.duration>M&&(confirm(A)||location.reload()),t.push(e.getChannelData(0),e.getChannelData(1))}))},n.readAsArrayBuffer(e)}function T(e,t){var n=new AudioContext({sampleRate:C});return n.decodeAudioData(t,(function(e){var t=n.createBufferSource();if(t.buffer=e,t.buffer.sampleRate!==C||2!==t.buffer.numberOfChannels)throw console.log(t.buffer.sampleRate,t.buffer.numberOfChannels),alert("Sorry, we can oly process songs with a 44100 sample rate and 2 channels"),new Error("Cannot process song");return console.log("Returning decoded files.."),[t.buffer.getChannelData(0),t.buffer.getChannelData(1)]}),(function(){console.log("Error on decoding audio context")}))}var U=n("9faf"),F=n("be6f"),z={name:"Home",components:{Player:L,vueHeadful:p.a,VueDropdown:j["a"],VuetifyAudio:D["a"]},data:function(){return{decodedFiles:[],files:[],shouldRenderPlayer:!1,shouldRenderSong:!1,shouldRenderDropzone:!0,disableInputTag:!1,dark:!1,player:null,combKey:42,showPlayer:!1,playerconf:{title:"",zoom:368,dark:!0,streams:[]},trackstoload:[],tracklist:[],fileName:"",isLoading:!1,isDisabled:!0,uploadProgress:!1,progress:!1,myProgress:0,model:null,openUnmix:null,ogAudio:"",modelUrl:"",target:"",config:{options:[{value:"Open-Unmix Vocals",target:"vocals",url:F.model.vocals},{value:"Open-Unmix Drums",target:"drums",url:F.model.drums},{value:"Open-Unmix Bass",target:"bass",url:F.model.bass},{value:"Open-Unmix Other/Instrumentals",target:"other",url:F.model.other}],placeholder:"Select model",width:"100%"}}},mounted:function(){},created:function(){},methods:{addFile:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("booooooooom"),a=window.URL||window.webkitURL,Object(c["a"])(e).forEach((function(e){console.log(e),t.ogAudio=a.createObjectURL(e),t.playerconf.title=e.name,t.files.push(e),N(e,t.decodedFiles),t.isDisabled=!1,t.shouldRenderSong=!0,t.shouldRenderDropzone=!1}));case 3:case"end":return n.stop()}}),n)})))()},addFilesDrop:function(e){var t=e.dataTransfer.files;t&&this.addFile(t)},addFilesInputTag:function(e){var t=e.target.files;t&&this.addFile(t)},reset:function(e){this.isDisabled=!0,this.disableInputTag=!1,this.shouldRenderDropzone=!0,this.shouldRenderSong=!1,this.shouldRenderPlayer=!1,this.files=[]},modelSelector:function(e){this.config.placeholder=e.value,this.modelUrl=e.url,this.target=e.target},processSong:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,""!==e.modelUrl){t.next=5;break}return alert("Please select a model"),e.isLoading=!1,t.abrupt("return",1);case 5:return t.next=7,Object(U["loadModel"])(e.modelUrl);case 7:Object(U["modelProcess"])(e.decodedFiles[0],e.decodedFiles[1],e.target).then((function(t){e.shouldRenderSong=!1,e.shouldRenderPlayer=!0,e.isLoading=!1,e.combKey=Math.ceil(1e4*Math.random());var n,a=[],r=Object(l["a"])(t.stems);try{for(r.s();!(n=r.n()).done;){var o=n.value;a.push({name:o.name,customClass:o.name,solo:!1,mute:!1,src:o.data})}}catch(s){r.e(s)}finally{r.f()}e.tracklist=a}));case 8:case"end":return t.stop()}}),t)})))()},download:function(e){var t=0;"back"==e&&(t=1),console.log(this.tracklist[0].src);var n=document.createElement("a");n.href=URL.createObjectURL(this.tracklist[t].src);var a=this.playerconf.title.split(".").slice(0,-1).join(".");n.download=a+"_"+e+".wav",n.click(),URL.revokeObjectURL(n.href),n.remove()}},computed:{}},V=z,I=(n("c219"),n("7496")),H=n("b0af"),B=n("a523"),q=n("0e8f"),$=n("a722"),J=Object(x["a"])(V,s,i,!1,null,null,null),K=J.exports;S()(J,{VApp:I["a"],VBtn:O["a"],VCard:H["a"],VContainer:B["a"],VFlex:q["a"],VLayout:$["a"]});var G={name:"SigSep",components:{Home:K},data:function(){return{}}},Q=G,W=Object(x["a"])(Q,r,o,!1,null,null,null),X=W.exports;S()(W,{VApp:I["a"]});var Y=n("8c4f");a["a"].use(Y["a"]);var Z=[{path:"/",name:"home",component:K,meta:{title:"Home Page - Example App",metaTags:[{name:"description",content:"The home page of our example app."},{property:"og:description",content:"The home page of our example app."}]}}],ee=new Y["a"]({mode:"history",base:"/open-unmix-js/",routes:Z}),te=ee,ne=n("2f62");a["a"].use(ne["a"]);var ae=new ne["a"].Store({state:{},mutations:{},actions:{},modules:{}}),re=n("f309");a["a"].use(re["a"]);var oe=new re["a"]({}),se=n("3c29");n("9c9f");a["a"].use(se["a"]),a["a"].config.productionTip=!1,new a["a"]({router:te,store:ae,vuetify:oe,render:function(e){return e(X)}}).$mount("#app")},"5c85":function(e,t,n){},6:function(e,t){},7:function(e,t){},8:function(e,t){},"9faf":function(e,t,n){n("862d"),n("49ef"),n("966c"),n("581e"),n("6c42"),n("178b"),n("253f"),n("241c4"),n("0e70"),n("0f41"),n("feeb"),n("1c98"),n("06a3"),n("1ca0"),n("3a0c"),n("9426"),n("100a"),n("3051"),n("9598"),n("2731"),n("587f"),n("c60d"),n("b285"),n("6a35"),n("b391"),n("1234"),n("dfa9"),n("7c3f"),n("2d6b"),n("0312"),n("1f3b"),n("c666"),n("705d");var a=n("448a");n("c1c3");var r=n("278c"),o=n("7037"),s=n("6374"),i=n("c973"),l=n("510a"),c=(n("3e8f"),n("0214"));l.ENV.set("WEBGL_CONV_IM2COL",!1);var u=c.fourierParams.frameLength,d=c.fourierParams.hopLength,p=c.fourierParams.fftSize,f=c.modelInput.N_FREQUENCIES,h=c.modelInput.N_FRAMES,m=c.modelInput.N_CHANNELS,g=c.modelInput.N_BATCHES;l.enableProdMode();var v=M(d,u),y={winLength:u,hopLength:d,fftLength:p};function b(e){return w.apply(this,arguments)}function w(){return w=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.loadGraphModel(t);case 2:this.model=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),w.apply(this,arguments)}function k(e,t,n){return x.apply(this,arguments)}function x(){return x=i(regeneratorRuntime.mark((function e(t,n,a){var r,o,s,i,l,c,u,p,f,m,g,v,b,w;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Start processing..."),r=Math.floor(Math.floor((t.length-1)/d)/h)+1,console.log("Num patches "+r),o=0,s=[[],[]],i=[[],[]],l=d*(h-1),c=l,u=0;case 9:if(!(u<r)){e.next=28;break}return console.log("Start processing chunk: "+u+"/"+r),p=P(t.slice(o,c),y),f=P(n.slice(o,c),y),e.next=15,S([p,f],y);case 15:m=e.sent,s[0][u]=m[0][0],s[1][u]=m[0][1],i[0][u]=m[1][0],i[1][u]=m[1][1],console.log("End processing chunk: "+u+"/"+r),o+=l,c=o+l,p.dispose(),f.dispose();case 25:u++,e.next=9;break;case 28:return g=_(s,t.length,n.length),v=_(i,t.length,n.length),b=T(g,a+".wav"),w=T(v,"accompaniment.wav"),e.abrupt("return",{stems:[{name:a,data:b},{name:"accompaniment",data:w}]});case 33:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function _(e,t,n){var a=e[0].flat(),r=e[1].flat();return a=a.slice(0,t),r=r.slice(0,n),{numberOfChannels:2,sampleRate:44100,channelData:[a,r]}}function S(e,t){return O.apply(this,arguments)}function O(){return O=i(regeneratorRuntime.mark((function e(t,n){var r,o,s,i,c,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[[],[]],o=[[],[]],s=L(t[0],t[1],0),e.next=5,this.model.executeAsync(s["model_input"]);case 5:return i=e.sent,c=l.tidy((function(){return l.mul(l.complex(i,l.zeros([g,m,f,h])),l.complex(l.cos(s["mix_angle"]),l.sin(s["mix_angle"])))})),u=E(c,n,1),d=l.tidy((function(){return l.mul(l.complex(s["model_input"].sub(i),l.zeros([g,m,f,h])),l.complex(l.cos(s["mix_angle"]),l.sin(s["mix_angle"])))})),p=E(d,n,1),r=[[].concat(a(r[0]),a(u[0])),[].concat(a(r[1]),a(u[1]))],o=[[].concat(a(o[0]),a(p[0])),[].concat(a(o[1]),a(p[1]))],s["mix_angle"].dispose(),s["model_input"].dispose(),e.abrupt("return",[r,o]);case 15:case"end":return e.stop()}}),e,this)}))),O.apply(this,arguments)}function P(e,t){var n=l.tensor1d(e,"float32");n.shape[0]<d*(h-1)&&(n=l.pad(n,[[0,d*(h-1)-n.shape[0]]])),n=R(n,t,!0);var a=l.signal.stft(n,t.winLength,t.hopLength,t.fftLength);return a}function R(e,t,n){var a=Math.floor(t.fftLength-t.hopLength);return n?(e=l.pad(e,[[a,a]]),e):(e=l.slice(e,[a],[e.shape-2*a]),e)}function E(e,t,n){var a,r=l.tidy((function(){var t=l.real(e),n=l.imag(e);return t=t.unstack(1).map((function(e){return e.squeeze()})),n=n.unstack(1).map((function(e){return e.squeeze()})),n[0]=l.transpose(n[0]),n[1]=l.transpose(n[1]),t[0]=l.transpose(t[0]),t[1]=l.transpose(t[1]),[l.complex(t[0],n[0]),l.complex(t[1],n[1])]})),o=[],i=s(r);try{for(i.s();!(a=i.n()).done;){var c=a.value,u=C(c,t,n),d=l.tensor1d(u);d=R(d,t,!1),o.push(d.arraySync()),d.dispose()}}catch(p){i.e(p)}finally{i.f()}return o}function L(e,t,n){var a=l.abs(e).slice([n,0],[h,f]),r=l.abs(t).slice([n,0],[h,f]),o=l.stack([a,r]).transpose([0,2,1]).expandDims(0),s=l.real(e).slice([n,0],[h,f]),i=l.imag(e).slice([n,0],[h,f]),c=l.real(t).slice([n,0],[h,f]),u=l.imag(t).slice([n,0],[h,f]),d=l.stack([s.arraySync(),c.arraySync()]).transpose([0,2,1]).expandDims(0),p=l.stack([i.arraySync(),u.arraySync()]).transpose([0,2,1]).expandDims(0),m=l.complex(d,p),g=l.atan2(l.imag(m),l.real(m));return{model_input:o,mix_angle:g}}function j(e,t){var n,a;if("object"===o(t)){var s=r(t,2);n=s[0],a=s[1]}else n=a=t;var i=new Float32Array(e.length+n+a);return i.set(e,n),i}function D(e,t){if(e.length>t)throw new Error("Data "+e.length+" is longer than length "+t);var n=Math.floor((t-e.length)/2),a=t-e.length-n;return j(e,[n,a])}function C(e,t,n){var a=n||1,r=e.shape[0],o=t.fftLength||A(e.shape[1]),s=t.winLength||o,i=t.hopLength||Math.floor(s/2);if(o!==s){var c=v.arraySync();c=D(c,o),v=l.tensor1d(c)}for(var u=o+i*(r-1),d=new Float32Array(u),p=e.irfft(),f=l.mul(v,l.tensor(a)),h=l.mul(p,f).arraySync(),m=0;m<r;m++){var g=m*i,y=h[m];y=N(y,d.slice(g,g+o)),d.set(y,g)}return d}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return l.signal.hannWindow(e)},a=n(t),r=l.square(a),o=Math.ceil(t/e);return r=l.pad(r,[[0,o*e-t]]),r=r.reshape([o,e]),r=l.sum(r,0,keepdims=!0),r=l.tile(r,[o,1]),r=r.reshape([o*e]),l.div(a,r.slice(0,t))}function A(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function N(e,t){if(e.length!==t.length)return console.error("Array lengths must be equal to add: ".concat(e.length,", ").concat(t.length)),null;for(var n=new Float32Array(e.length),a=0;a<e.length;a++)n[a]=e[a]+t[a];return n}function T(e,t){var n=2*e.channelData[0].length*2+44,a=new ArrayBuffer(n),r=new DataView(a),o=0;u(1179011410),u(n-8),u(1163280727),u(544501094),u(16),c(1),c(2),u(e.sampleRate),u(2*e.sampleRate*e.numberOfChannels),c(2*e.numberOfChannels),c(16),u(1635017060),u(n-o-4);var s=0;while(o<n){for(var i=0;i<2;i++){var l=Math.max(-1,Math.min(1,e.channelData[i][s]));l=0|(l<0?32768*l:32767*l),r.setInt16(o,l,!0),o+=2}s++}return new Blob([a],{type:"audio/wav"});function c(e){r.setUint16(o,e,!0),o+=2}function u(e){r.setUint32(o,e,!0),o+=4}}t.loadModel=b,t.modelProcess=k},be6f:function(e){e.exports=JSON.parse('{"model":{"vocals":"https://storage.googleapis.com/open-unmix-models/umxhq-vocals-tfjs/model.json","drums":"https://storage.googleapis.com/open-unmix-models/umxhq-drums-tfjs/model.json","bass":"https://storage.googleapis.com/open-unmix-models/umxhq-bass-tfjs/model.json","other":"https://storage.googleapis.com/open-unmix-models/umxhq-other-tfjs/model.json","speech":"https://storage.googleapis.com/open-unmix-models/umxse-speech-tfjs/model.json"}}')},c219:function(e,t,n){"use strict";var a=n("5c85"),r=n.n(a);r.a}});
//# sourceMappingURL=app.b61426eb.js.map